(this.webpackJsonpairin_leaderboard=this.webpackJsonpairin_leaderboard||[]).push([[0],[,,,,,,,,,,,,,function(e,r,n){},,function(e,r,n){},function(e,r,n){},function(e,r,n){},function(e,r,n){},function(e,r,n){"use strict";n.r(r);var t=n(0),a=n(2),c=n.n(a),s=n(6),i=n.n(s),o=(n(13),n(3)),l=n.n(o),u=n(1),d=n(5),j=n(7),p={getLeaderBoardData:function(){return fetch("https://us-central1-airin-rec-sandbox.cloudfunctions.net/leaderboard/",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getProfilePicture:function(e){return fetch("https://us-central1-airin-rec-sandbox.cloudfunctions.net/leaderboard/img/".concat(e,".png"),{method:"GET",headers:{"content-type":"image/png"}}).then((function(e){return e.ok?e.url:e.json().then((function(e){return Promise.reject(e)}))}))}};n(15);var b=function(e){var r=e.player,n=e.position;return Object(t.jsxs)("div",{className:"player-card",children:[Object(t.jsx)("span",{className:"player-position",children:n}),Object(t.jsx)("img",{className:"player-pic",src:r.url,alt:"profile pic"}),Object(t.jsxs)("div",{className:"player-content",children:[Object(t.jsx)("h2",{className:"player-heading",children:r.username}),Object(t.jsxs)("div",{className:"player-content-inner",children:[Object(t.jsxs)("p",{className:"player-metric",children:["Score: ",r.score]}),Object(t.jsxs)("p",{className:"player-metric",children:["Playtime: ",r.seconds_played]})]}),Object(t.jsxs)("div",{className:"player-content-inner",children:[Object(t.jsxs)("p",{className:"player-metric",children:["Wins: ",r.games_won]}),Object(t.jsxs)("p",{className:"player-metric",children:["Losses: ",r.games_lost]})]})]})]},r.uid)};n(16);var h=function(){return Object(t.jsx)("div",{className:"loading-spinner"})};n(17);var m=function(e){return Object(t.jsx)("div",{className:"error-message",children:Object(t.jsx)("h2",{children:"Oops! Something Went Wrong!"})})};n(18);var f=function(){var e=Object(a.useState)({players:[],view:"score",error:null,isLoading:!1}),r=Object(j.a)(e,2),n=r[0],c=r[1],s=function(e){return e.sort((function(e,r){return r[n.view]-e[n.view]}))},i=function(){var e=Object(d.a)(l.a.mark((function e(){var r,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(u.a)(Object(u.a)({},n),{},{isLoading:!0,error:null})),e.prev=1,e.next=4,p.getLeaderBoardData();case 4:return r=e.sent,e.next=7,Promise.all(r.map(function(){var e=Object(d.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getProfilePicture(r.uid);case 2:return n=e.sent,e.abrupt("return",Object(u.a)(Object(u.a)({},r),{},{url:n}));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 7:t=e.sent,c(Object(u.a)(Object(u.a)({},n),{},{players:s(t),isLoading:!1})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c(Object(u.a)(Object(u.a)({},n),{},{error:e.t0,isLoading:!1}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("header",{className:"lb-header",children:Object(t.jsx)("h1",{children:"airin.ai ~ leaderboard"})}),Object(t.jsx)("main",{children:Object(t.jsxs)("section",{className:"player-list",children:[n.isLoading&&Object(t.jsx)(h,{}),n.error&&Object(t.jsx)(m,{}),n.players.map((function(e,r){return Object(t.jsx)(b,{player:e,position:r+1},e.uid)}))]})})]})};i.a.render(Object(t.jsx)(c.a.StrictMode,{children:Object(t.jsx)(f,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.46adf06a.chunk.js.map